<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>gnnz | acervo</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

    <style>
        /* === 1. AXIOMAS (Design System) === */
        :root {
            /* Palette: Dark Luxury */
            --void: #050505;
            --surface: #0a0a0a;
            --text-high: #EAEAEA;
            --text-med: #888888;
            --gold: #D4AF37;
            --gold-dim: rgba(212, 175, 55, 0.3);
            
            /* Physics */
            --ease-cine: cubic-bezier(0.25, 1, 0.5, 1);
            --ease-snap: cubic-bezier(0.19, 1, 0.22, 1);
            
            /* Layout */
            --header-h: 120px;
            --max-w: 1400px;
        }

        /* === 2. RESET & BASE (Noise & Atmosphere) === */
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            background-color: var(--void);
            color: var(--text-high);
            font-family: 'Manrope', sans-serif;
            overflow-x: hidden;
            opacity: 0; animation: genesis 1.5s var(--ease-cine) forwards;
        }

        /* Textura Granulada (Film Grain) */
        body::before {
            content: ""; position: fixed; inset: 0; pointer-events: none; z-index: 9999;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            opacity: 0.07;
        }

        @keyframes genesis { to { opacity: 1; } }

        /* Typography Classes */
        .serif { font-family: 'Playfair Display', serif; }
        .sans { font-family: 'Manrope', sans-serif; }
        .meta { font-size: 0.75rem; color: var(--text-med); text-transform: uppercase; letter-spacing: 0.15em; font-weight: 600; }

        /* === 3. HEADER (The Reactor) === */
        header {
            height: var(--header-h); display: flex; justify-content: center; align-items: center;
            position: relative; z-index: 50; mix-blend-mode: exclusion;
        }
        
        .reactor-core {
            width: 60px; height: 60px; position: relative; cursor: pointer;
            display: flex; justify-content: center; align-items: center;
            transition: transform 0.3s var(--ease-snap);
        }
        .reactor-core:hover { transform: scale(1.1); }
        
        /* O Efeito de Pulso */
        .reactor-ring {
            position: absolute; width: 100%; height: 100%; border-radius: 50%;
            border: 1px solid var(--gold); opacity: 0; transform: scale(0.8);
            animation: pulse-idle 4s infinite var(--ease-cine);
        }
        .reactor-logo { width: 40px; height: auto; position: relative; z-index: 2; filter: drop-shadow(0 0 5px rgba(255,255,255,0.2)); }

        @keyframes pulse-idle {
            0% { transform: scale(0.8); opacity: 0; }
            50% { transform: scale(1.4); opacity: 0.3; border-width: 1px; }
            100% { transform: scale(1.8); opacity: 0; border-width: 0px; }
        }

        /* O Flash (Shockwave) */
        .flash-overlay {
            position: fixed; inset: 0; background: #fff; opacity: 0; pointer-events: none; z-index: 10000;
            transition: opacity 0.1s ease-out;
        }
        .flash-active { opacity: 0.15; transition: opacity 0.05s ease-in; }

        /* === 4. HERO SECTION (The Stage - 16:9) === */
        .stage-wrapper {
            width: 100%; max-width: var(--max-w); margin: 0 auto;
            position: relative; overflow: hidden; padding-bottom: 2rem;
        }
        
        /* Aspect Ratio Hack 16:9 Responsive */
        .cinema-viewport {
            width: 100%; position: relative;
            aspect-ratio: 16 / 9;
            background: #080808; overflow: hidden;
            display: flex; justify-content: center; align-items: center;
        }

        .slide-layer {
            position: absolute; inset: 0; 
            opacity: 0; transform: scale(1.05); transition: opacity 1.2s var(--ease-cine), transform 1.5s var(--ease-cine);
            will-change: opacity, transform;
        }
        .slide-layer.active { opacity: 1; transform: scale(1); z-index: 10; }
        
        .slide-img { width: 100%; height: 100%; object-fit: cover; filter: saturate(0.9) contrast(1.1); }
        
        /* Overlay de Texto Hero */
        .hero-caption {
            position: absolute; bottom: 8%; left: 5%; z-index: 20;
            text-shadow: 0 10px 30px rgba(0,0,0,0.8);
            transform: translateY(20px); opacity: 0; transition: all 0.8s 0.2s var(--ease-cine);
        }
        .slide-layer.active .hero-caption { transform: translateY(0); opacity: 1; }
        
        .hero-title { font-size: clamp(2rem, 5vw, 4rem); color: #fff; margin-bottom: 0.5rem; line-height: 1; }

        /* Dots Navigation */
        .nav-dots {
            position: absolute; bottom: 8%; right: 5%; z-index: 20; display: flex; gap: 8px;
        }
        .dot { 
            width: 4px; height: 4px; background: rgba(255,255,255,0.3); border-radius: 50%; cursor: pointer; transition: 0.4s var(--ease-snap); 
        }
        .dot.active { background: var(--gold); transform: scale(1.5); box-shadow: 0 0 10px var(--gold-dim); }

        /* === 5. ACERVO (The Strip) === */
        .strip-section { padding: 4rem 0; overflow: hidden; }
        .strip-header { padding: 0 5%; margin-bottom: 2rem; border-left: 2px solid var(--gold); padding-left: 1.5rem; }
        
        .strip-track {
            display: flex; gap: 2rem; padding: 0 5%; overflow-x: auto; scroll-behavior: smooth;
            scrollbar-width: none; /* Firefox */
            padding-bottom: 2rem;
        }
        .strip-track::-webkit-scrollbar { display: none; }

        .art-card {
            min-width: 280px; height: 380px; position: relative; cursor: pointer;
            transition: transform 0.4s var(--ease-snap), filter 0.4s;
            filter: grayscale(0.8);
        }
        .art-card:hover { transform: translateY(-10px); filter: grayscale(0); }
        .art-card img { width: 100%; height: 100%; object-fit: cover; border-radius: 2px; }
        
        .art-info {
            position: absolute; bottom: -30px; left: 0; width: 100%;
            opacity: 0; transition: 0.3s;
        }
        .art-card:hover .art-info { opacity: 1; bottom: -40px; }

        /* === 6. MEMORIAS (Cinema Mode Entry) === */
        .memory-block {
            margin: 4rem 5%; background: #080808; border: 1px solid #111;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            padding: 4rem 2rem; text-align: center; cursor: pointer;
            transition: border-color 0.3s; position: relative; overflow: hidden;
        }
        .memory-block:hover { border-color: var(--gold); }
        
        .play-icon {
            width: 60px; height: 60px; border: 1px solid #fff; border-radius: 50%;
            display: flex; justify-content: center; align-items: center; margin-bottom: 1.5rem;
            transition: all 0.3s var(--ease-snap);
        }
        .memory-block:hover .play-icon { background: var(--gold); border-color: var(--gold); color: #000; transform: scale(1.1); }

        /* === 7. MODAL & CINEMA THEATER (State of Art) === */
        .theater-overlay {
            position: fixed; inset: 0; background: #000; z-index: 2000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; visibility: hidden; transition: opacity 0.5s var(--ease-cine);
        }
        .theater-overlay.active { opacity: 1; visibility: visible; }
        
        .theater-stage { width: 90vw; height: 80vh; position: relative; display: flex; justify-content: center; align-items: center; }
        
        /* Media Containers */
        .theater-img { max-width: 100%; max-height: 100%; object-fit: contain; box-shadow: 0 0 50px rgba(0,0,0,0.5); }
        .theater-video { width: 80%; aspect-ratio: 16/9; background: #000; }
        
        /* Custom Controls UI */
        .player-controls {
            position: absolute; bottom: -60px; display: flex; gap: 20px; align-items: center;
            opacity: 0; transform: translateY(10px); transition: 0.3s;
        }
        .theater-overlay.video-mode .player-controls { opacity: 1; transform: translateY(0); }
        
        .ctrl-btn {
            background: transparent; border: 1px solid #333; color: #fff; padding: 10px 20px;
            font-family: 'Manrope', sans-serif; font-size: 0.8rem; letter-spacing: 0.1em;
            cursor: pointer; border-radius: 30px; transition: 0.2s;
        }
        .ctrl-btn:hover { border-color: var(--gold); color: var(--gold); }
        .ctrl-btn.main-play { border-color: #fff; padding: 15px 30px; }

        .close-theater {
            position: absolute; top: 30px; right: 30px; font-size: 2rem; cursor: pointer; color: #fff; opacity: 0.5;
            transition: opacity 0.3s; z-index: 2010; font-family: 'Manrope';
        }
        .close-theater:hover { opacity: 1; }

        /* === 8. FOOTER === */
        footer {
            text-align: center; padding: 3rem 0; margin-top: 4rem;
            border-top: 1px solid #111; color: #333; font-size: 0.7rem; letter-spacing: 0.2rem;
        }

        /* Responsive Mobile Adjustments */
        @media (max-width: 768px) {
            .hero-title { font-size: 2rem; }
            .cinema-viewport { aspect-ratio: 4 / 5; /* Retrato no mobile para não cortar */ }
            .theater-video { width: 100%; }
        }
    </style>
</head>
<body>

    <div class="flash-overlay" id="flash-fx"></div>

    <header>
        <div class="reactor-core" onclick="App.triggerFlash()">
            <div class="reactor-ring"></div>
            <svg class="reactor-logo" viewBox="0 0 100 100" fill="none" stroke="#fff" stroke-width="3">
                <path d="M50 20 C20 20 10 50 10 50 C10 50 20 80 50 80 C80 80 90 50 90 50 C90 50 80 20 50 20 Z" />
                <circle cx="50" cy="50" r="12" fill="#fff" />
            </svg>
        </div>
    </header>

    <main>
        <section class="stage-wrapper">
            <div class="cinema-viewport" id="hero-stage">
                </div>
            <div class="nav-dots" id="hero-dots"></div>
        </section>

        <section class="strip-section">
            <div class="strip-header">
                <h2 class="serif" style="font-size: 2rem; color: #fff;">Acervo</h2>
                <p class="meta" style="color: var(--gold);">Coleção 2024</p>
            </div>
            <div class="strip-track" id="gallery-strip">
                </div>
        </section>

        <section>
            <div class="strip-header" style="padding-top: 2rem;">
                <h2 class="serif" style="font-size: 2rem; color: #fff;">Memórias</h2>
                <p class="meta">Cinema Vérité</p>
            </div>
            
            <div class="memory-block" onclick="Cinema.openVideo(DB.memories[0])">
                <div class="play-icon">▶</div>
                <h3 class="serif" style="font-size: 1.5rem; color: #fff;">Patins e Itapuama</h3>
                <p class="meta" style="margin-top: 10px;">CABO DE SANTO AGOSTINHO • 2022</p>
            </div>
        </section>
    </main>

    <div class="theater-overlay" id="theater">
        <div class="close-theater" onclick="Cinema.close()">✕</div>
        
        <div class="theater-stage" id="theater-stage">
            </div>

        <div class="player-controls" id="video-ctrls">
            <button class="ctrl-btn" onclick="Cinema.rewind()">-10s</button>
            <button class="ctrl-btn main-play" onclick="Cinema.togglePlay()" id="btn-play-state">PAUSE</button>
            <button class="ctrl-btn" onclick="Cinema.forward()">+10s</button>
        </div>
    </div>

    <footer>GENNOZ © 2000</footer>

    <script>
        /**
         * GENNOZ | COGNITIVE CORE
         * Architecture: Monolith Optimized (Namespaced)
         */

        // 1. DATA STORE (Single Source of Truth)
        const DB = {
            hero: [
                { id: 1, src: "Eu_e_Nuz-2025-Prazeres.jpg", title: "Nós em Síntese", meta: "PRAZERES • 2025" },
                { id: 2, src: "Familia-2025-Prazeres.jpg", title: "Raízes", meta: "PRAZERES • 2025" },
                { id: 3, src: "Eu_Ela_e_os_Bebes-2025-Prazeres.jpg", title: "Legado", meta: "PRAZERES • 2025" }
            ],
            gallery: [
                { id: 10, src: "Praia_de_Serrambi-2024-Ipojuca.jpg", title: "Serrambi", meta: "IPOJUCA" },
                { id: 11, src: "Orgulho_em_Calhetas-2024-Cabo.jpg", title: "Calhetas", meta: "CABO" },
                { id: 12, src: "Praia_de_Piedade-2024-Jaboatao.jpg", title: "Piedade", meta: "JABOATÃO" },
                { id: 13, src: "Engrenagens_do_Interior-2023-Carpina.jpg", title: "Engrenagens", meta: "CARPINA" }
            ],
            memories: [
                { id: 20, src: "Patins_e_Itapuama-2022-Cabo.mp4", title: "Patins em Itapuama", type: "video" }
            ]
        };

        // 2. HELPER UTILS
        const $ = (sel) => document.querySelector(sel);
        const $$ = (sel) => document.querySelectorAll(sel);
        // Fallback image para evitar quebra de layout
        const safeSrc = (src) => `placeholder.jpg`; // Em produção, aponte para o arquivo real

        // 3. APP CONTROLLER
        const App = {
            init() {
                console.log("GENNOZ OS: Initializing...");
                Carousel.build();
                Gallery.build();
                
                // Keyboard Listeners (Acessibilidade)
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') Cinema.close();
                });
            },

            triggerFlash() {
                const flash = $('#flash-fx');
                flash.classList.add('flash-active');
                setTimeout(() => flash.classList.remove('flash-active'), 150);
                
                // Opcional: Vibração em mobile
                if(navigator.vibrate) navigator.vibrate(50);
            }
        };

        // 4. CAROUSEL ENGINE (Hero Logic)
        const Carousel = {
            index: 0,
            timer: null,
            
            build() {
                const stage = $('#hero-stage');
                const dots = $('#hero-dots');
                
                // Render Slides
                DB.hero.forEach((item, i) => {
                    // Slide
                    const slide = document.createElement('div');
                    slide.className = `slide-layer ${i === 0 ? 'active' : ''}`;
                    slide.innerHTML = `
                        <img src="${item.src}" class="slide-img" onerror="this.style.display='none'">
                        <div class="hero-caption">
                            <h2 class="serif hero-title">${item.title}</h2>
                            <p class="meta" style="color:var(--gold)">${item.meta}</p>
                        </div>
                    `;
                    slide.onclick = () => Cinema.openImage(item); // 2º clique lógica simplificada para UX direta
                    stage.appendChild(slide);

                    // Dot
                    const dot = document.createElement('div');
                    dot.className = `dot ${i === 0 ? 'active' : ''}`;
                    dot.onclick = () => Carousel.goto(i);
                    dots.appendChild(dot);
                });

                this.startAuto();
            },

            goto(n) {
                const slides = $$('.slide-layer');
                const dots = $$('.dot');
                
                // Reset Current
                slides[this.index].classList.remove('active');
                dots[this.index].classList.remove('active');
                
                // Update Index
                this.index = n;
                
                // Activate New
                slides[this.index].classList.add('active');
                dots[this.index].classList.add('active');
                
                this.resetTimer();
            },

            next() {
                let nextIndex = (this.index + 1) % DB.hero.length;
                this.goto(nextIndex);
            },

            startAuto() { this.timer = setInterval(() => this.next(), 6000); },
            stopAuto() { clearInterval(this.timer); },
            resetTimer() { this.stopAuto(); this.startAuto(); }
        };

        // 5. GALLERY ENGINE (Strip Logic)
        const Gallery = {
            build() {
                const track = $('#gallery-strip');
                DB.gallery.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'art-card';
                    card.innerHTML = `
                        <img src="${item.src}" loading="lazy" onerror="this.src='data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='">
                        <div class="art-info">
                            <p class="serif" style="color:#fff; font-size:1.2rem">${item.title}</p>
                            <p class="meta" style="font-size:0.6rem">${item.meta}</p>
                        </div>
                    `;
                    card.onclick = () => Cinema.openImage(item);
                    track.appendChild(card);
                });
            }
        };

        // 6. CINEMA THEATER (Polymorphic Modal)
        const Cinema = {
            el: $('#theater'),
            stage: $('#theater-stage'),
            videoEl: null, // Referência ao elemento de vídeo ativo

            openImage(item) {
                this.el.classList.remove('video-mode');
                this.stage.innerHTML = `<img src="${item.src}" class="theater-img">`;
                this.el.classList.add('active');
            },

            openVideo(item) {
                this.el.classList.add('video-mode');
                // Criar player HTML5
                this.stage.innerHTML = `
                    <video class="theater-video" id="active-video" src="${item.src}" playsinline></video>
                `;
                this.videoEl = document.getElementById('active-video');
                
                // Auto-play ao abrir
                this.videoEl.play();
                $('#btn-play-state').innerText = "PAUSE";
                
                this.el.classList.add('active');
            },

            close() {
                this.el.classList.remove('active');
                // Limpar stage para parar vídeos e liberar memória
                setTimeout(() => {
                    this.stage.innerHTML = '';
                    this.videoEl = null;
                }, 500);
            },

            // Controles de Vídeo Personalizados
            togglePlay() {
                if(!this.videoEl) return;
                const btn = $('#btn-play-state');
                if(this.videoEl.paused) {
                    this.videoEl.play();
                    btn.innerText = "PAUSE";
                } else {
                    this.videoEl.pause();
                    btn.innerText = "PLAY";
                }
            },
            rewind() { if(this.videoEl) this.videoEl.currentTime -= 10; },
            forward() { if(this.videoEl) this.videoEl.currentTime += 10; }
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', App.init);

    </script>
</body>
</html>
