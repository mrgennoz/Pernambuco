<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gennoz | Acervo</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400&family=Manrope:wght@300;400;600&display=swap" rel="stylesheet">

    <style>
        /* === 1. CORE & VARIABLES === */
        :root {
            --bg-deep: #050505;
            --bg-panel: #0a0a0a;
            --text-primary: #F2F2F2;
            --text-secondary: #888;
            --gold: #D4AF37;
            --gold-glow: rgba(212, 175, 55, 0.4);
            --ease-elastic: cubic-bezier(0.34, 1.56, 0.64, 1);
            --ease-smooth: cubic-bezier(0.25, 1, 0.5, 1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        
        body {
            background-color: var(--bg-deep);
            color: var(--text-primary);
            font-family: 'Manrope', sans-serif;
            overflow-x: hidden;
            opacity: 0; animation: fadeIn 1.2s ease forwards;
            cursor: none; /* Cursor customizado */
        }
        @keyframes fadeIn { to { opacity: 1; } }

        /* === 2. TEXTURES & FX === */
        .noise-overlay {
            position: fixed; inset: 0; pointer-events: none; z-index: 9000; opacity: 0.04;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
        }
        
        /* Cursor Customizado Otimizado */
        .cursor-dot {
            position: fixed; top: 0; left: 0; width: 6px; height: 6px; background: #fff; border-radius: 50%;
            pointer-events: none; z-index: 10000; transform: translate(-50%, -50%); mix-blend-mode: difference;
        }
        .cursor-ring {
            position: fixed; top: 0; left: 0; width: 30px; height: 30px; 
            border: 1px solid rgba(255,255,255,0.3); border-radius: 50%; 
            pointer-events: none; z-index: 9999; transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s, background 0.3s;
        }
        body.hovering .cursor-ring { width: 50px; height: 50px; background: rgba(212, 175, 55, 0.1); border-color: var(--gold); }

        /* === 3. HEADER & LOGO INTERACTION === */
        header {
            height: 15vh; display: flex; justify-content: center; align-items: flex-end;
            padding-bottom: 1rem; position: relative; z-index: 100;
        }
        
        .logo-container {
            position: relative; width: 80px; height: 80px; 
            display: flex; justify-content: center; align-items: center; cursor: pointer;
        }
        
        /* Logo Image */
        .brand-logo { 
            width: 50px; height: auto; position: relative; z-index: 2; 
            filter: grayscale(1) brightness(1.2); transition: 0.5s var(--ease-smooth); 
        }
        
        /* Interactive Glow/Pulse */
        .logo-aura {
            position: absolute; inset: -10px; border-radius: 50%;
            border: 1px solid rgba(255,255,255,0.1);
            opacity: 0.5; transform: scale(0.8); transition: 0.5s;
        }
        
        /* States */
        .logo-container:hover .brand-logo { filter: grayscale(0) drop-shadow(0 0 10px var(--gold)); transform: scale(1.1); }
        .logo-container:hover .logo-aura { border-color: var(--gold); transform: scale(1.2) rotate(180deg); opacity: 1; }
        
        /* Click Ripple Effect */
        .logo-ripple {
            position: absolute; top: 50%; left: 50%; width: 10px; height: 10px;
            border: 2px solid var(--gold); border-radius: 50%; transform: translate(-50%, -50%);
            opacity: 0; pointer-events: none;
        }
        .logo-container.active .logo-ripple { animation: ripple 0.8s ease-out; }
        @keyframes ripple { 0% { width: 10px; height: 10px; opacity: 1; border-width: 5px; } 100% { width: 300px; height: 300px; opacity: 0; border-width: 0px; } }

        /* === 4. TYPOGRAPHY & LAYOUT === */
        .serif { font-family: 'Playfair Display', serif; }
        .section-title { font-size: 2rem; text-align: center; margin-bottom: 0.5rem; color: #fff; }
        .meta-tag { font-size: 0.7rem; color: var(--gold); text-transform: uppercase; letter-spacing: 0.2em; text-align: center; display: block; margin-bottom: 2rem; }
        
        section { padding: 3rem 0; width: 100%; position: relative; }

        /* === 5. CAROUSEL ENGINE (HERO & ACERVO) === */
        .track-container {
            width: 100%; height: 55vh; min-height: 400px;
            position: relative; perspective: 1000px;
            display: flex; justify-content: center; align-items: center;
            touch-action: pan-y;
        }

        .slot {
            position: absolute; background: #111; border-radius: 4px; overflow: hidden;
            box-shadow: 0 15px 40px rgba(0,0,0,0.6);
            transition: all 0.8s var(--ease-elastic);
            transform-origin: center center; cursor: pointer;
            width: 55vw; max-width: 800px; aspect-ratio: 16 / 9; /* Forçando 16:9 */
        }

        .slot img { width: 100%; height: 100%; object-fit: cover; transition: transform 1s var(--ease-smooth); display: block; }
        
        /* 3D States */
        .slot.center { z-index: 10; opacity: 1; transform: translateX(0) scale(1); box-shadow: 0 30px 60px rgba(0,0,0,0.8); }
        .slot.left { z-index: 5; opacity: 0.4; transform: translateX(-80%) scale(0.85) translateZ(-50px) rotateY(10deg); filter: grayscale(1); pointer-events: none; }
        .slot.right { z-index: 5; opacity: 0.4; transform: translateX(80%) scale(0.85) translateZ(-50px) rotateY(-10deg); filter: grayscale(1); pointer-events: none; }

        /* Expanded State (First Click) */
        .slot.center.expanded { transform: scale(1.05); z-index: 20; border: 1px solid var(--gold); }
        .slot.center.expanded img { transform: scale(1.05); filter: brightness(0.4); } /* Escurece para ler texto */

        /* Info Layer (Inside Slot) */
        .slot-content {
            position: absolute; inset: 0;
            display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;
            opacity: 0; transition: 0.5s; padding: 2rem;
        }
        .slot.expanded .slot-content { opacity: 1; }
        
        .slot-title { font-family: 'Playfair Display', serif; font-size: 2rem; margin-bottom: 0.5rem; transform: translateY(20px); transition: 0.5s; }
        .slot-meta { font-size: 0.75rem; letter-spacing: 0.1em; color: var(--gold); transform: translateY(20px); transition: 0.5s 0.1s; text-transform: uppercase; }
        .slot-desc { font-size: 0.9rem; margin-top: 1rem; color: #ccc; max-width: 600px; line-height: 1.5; transform: translateY(20px); transition: 0.5s 0.2s; }
        
        .slot.expanded .slot-title, 
        .slot.expanded .slot-meta, 
        .slot.expanded .slot-desc { transform: translateY(0); }

        /* Navigation Dots */
        .nav-ui { text-align: center; margin-top: 1.5rem; }
        .dots { display: inline-flex; gap: 8px; }
        .dot { width: 6px; height: 6px; background: #333; border-radius: 50%; transition: 0.3s; cursor: pointer; }
        .dot.active { background: var(--gold); transform: scale(1.4); }

        /* === 6. VIDEO (MEMORY) === */
        .video-wrapper {
            width: 100%; max-width: 900px; margin: 0 auto;
            position: relative; aspect-ratio: 16/9;
            border-radius: 4px; overflow: hidden; cursor: pointer;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            group: isolate;
        }
        .video-wrapper video { width: 100%; height: 100%; object-fit: cover; opacity: 0.8; transition: 0.5s; }
        .video-wrapper:hover video { opacity: 1; transform: scale(1.02); }
        
        .play-btn-overlay {
            position: absolute; inset: 0; display: flex; justify-content: center; align-items: center;
            background: rgba(0,0,0,0.2); transition: 0.3s;
        }
        .play-icon {
            font-size: 3rem; color: #fff; text-shadow: 0 0 20px rgba(0,0,0,0.5);
            width: 80px; height: 80px; border: 1px solid rgba(255,255,255,0.3); border-radius: 50%;
            display: grid; place-items: center; backdrop-filter: blur(5px); transition: 0.3s;
        }
        .video-wrapper:hover .play-icon { border-color: var(--gold); color: var(--gold); transform: scale(1.1); }

        /* === 7. MODAL & PLAYER (LIGHTBOX) === */
        .modal {
            position: fixed; inset: 0; background: rgba(5,5,5,0.98); z-index: 20000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; visibility: hidden; transition: 0.4s ease; backdrop-filter: blur(10px);
        }
        .modal.active { opacity: 1; visibility: visible; }
        
        .modal-content-img { max-width: 90vw; max-height: 80vh; object-fit: contain; box-shadow: 0 0 50px #000; }
        
        /* Video Player Controls */
        .video-player-container { display: none; flex-direction: column; align-items: center; width: 100%; }
        .modal.video-mode .video-player-container { display: flex; }
        .modal.video-mode .modal-content-img, .modal.video-mode .modal-text { display: none; }
        
        .cinema-screen { width: 90%; max-width: 1000px; aspect-ratio: 16/9; background: #000; box-shadow: 0 0 60px rgba(0,0,0,0.8); }
        
        .player-controls {
            margin-top: 2rem; display: flex; gap: 2rem; align-items: center;
            background: rgba(255,255,255,0.05); padding: 10px 40px; border-radius: 50px; border: 1px solid rgba(255,255,255,0.1);
        }
        .ctrl-btn {
            background: none; border: none; color: #fff; font-family: 'Manrope', sans-serif; 
            font-size: 0.9rem; cursor: pointer; transition: 0.2s; text-transform: uppercase; letter-spacing: 0.1em;
        }
        .ctrl-btn:hover { color: var(--gold); }
        .ctrl-play { font-size: 2rem; width: 40px; text-align: center; }

        .close-modal {
            position: absolute; top: 30px; right: 30px; font-size: 2rem; color: #fff; cursor: pointer;
            width: 50px; height: 50px; display: grid; place-items: center; transition: 0.3s; z-index: 20001;
        }
        .close-modal:hover { color: var(--gold); transform: rotate(90deg); }

        /* === 8. FOOTER === */
        footer { padding: 4rem 0 2rem; text-align: center; border-top: 1px solid #111; margin-top: 2rem; }
        .footer-sig { font-size: 0.7rem; color: #444; letter-spacing: 0.25em; font-family: 'Manrope', sans-serif; }

        /* === 9. MOBILE OPTIMIZATION === */
        @media (max-width: 768px) {
            header { height: 12vh; }
            .track-container { height: 35vh; min-height: 250px; }
            
            /* Ajuste Hero Mobile */
            .slot { width: 85vw; height: auto; aspect-ratio: 16/9; }
            .slot.left { transform: translateX(-105%) scale(0.9); opacity: 0.5; filter: none; }
            .slot.right { transform: translateX(105%) scale(0.9); opacity: 0.5; filter: none; }
            
            /* Ajuste Texto Interno */
            .slot-content { padding: 1rem; }
            .slot-title { font-size: 1.5rem; }
            .slot-desc { font-size: 0.8rem; display: none; /* Esconde descrição longa no mobile card, mostra no lightbox */ }

            /* Video Mobile */
            .video-wrapper { width: 92vw; }
            .player-controls { gap: 1rem; padding: 10px 20px; }
            
            /* Cursor */
            .cursor-dot, .cursor-ring { display: none; }
            body { cursor: auto; }
        }
    </style>
</head>
<body>

    <div class="noise-overlay"></div>
    <div class="cursor-dot"></div>
    <div class="cursor-ring"></div>

    <header>
        <div class="logo-container" id="logo-trigger">
            <div class="logo-aura"></div>
            <div class="logo-ripple"></div>
            <img src="logo.png" alt="G" class="brand-logo">
        </div>
    </header>

    <section>
        <div class="track-container" id="hero-track"></div>
        <div class="nav-ui">
            <div class="dots" id="hero-dots"></div>
        </div>
    </section>

    <section>
        <h2 class="serif section-title">Acervo</h2>
        <span class="meta-tag">Coleção Curada</span>
        
        <div class="track-container" id="acervo-track" style="height: 40vh;"></div>
        <div class="nav-ui">
            <div class="dots" id="acervo-dots"></div>
            <div style="margin-top: 20px;">
                <a href="acervo.html" style="color: #666; font-size: 0.7rem; text-decoration: none; border-bottom: 1px solid #333; padding-bottom: 4px; letter-spacing: 0.2em; transition:0.3s;" onmouseover="this.style.color='#D4AF37'; this.style.borderColor='#D4AF37'" onmouseout="this.style.color='#666'; this.style.borderColor='#333'">ABRIR GALERIA COMPLETA</a>
            </div>
        </div>
    </section>

    <section>
        <h2 class="serif section-title">Memórias</h2>
        <span class="meta-tag">Fragmentos Temporais</span>
        
        <div class="video-wrapper" onclick="Modal.openVideo('Patins_e_Itapuama-2022-Cabo.mp4')">
            <video src="Patins_e_Itapuama-2022-Cabo.mp4" playsinline muted loop poster=""></video>
            <div class="play-btn-overlay">
                <div class="play-icon">▶</div>
            </div>
        </div>
    </section>

    <footer>
        <p class="footer-sig">GENNOZ © 2000</p>
    </footer>

    <div class="modal" id="modal">
        <div class="close-modal" id="close-modal">×</div>
        
        <img src="" class="modal-content-img" id="m-img">
        <div class="modal-text" style="text-align: center; margin-top: 1rem; max-width: 600px; padding: 0 1rem;">
            <h3 class="serif" style="color:#fff; font-size: 1.8rem;" id="m-title"></h3>
            <p style="color:var(--gold); font-size:0.75rem; letter-spacing:0.1em; text-transform:uppercase; margin-top:0.5rem;" id="m-meta"></p>
            <p style="color:#999; font-size:0.9rem; margin-top:1rem; line-height:1.6;" id="m-desc"></p>
        </div>

        <div class="video-player-container">
            <video src="" class="cinema-screen" id="cinema-video" playsinline></video>
            <div class="player-controls">
                <button class="ctrl-btn" onclick="VideoEngine.skip(-10)">-10s</button>
                <button class="ctrl-btn ctrl-play" onclick="VideoEngine.toggle()" id="play-btn">▶</button>
                <button class="ctrl-btn" onclick="VideoEngine.skip(10)">+10s</button>
            </div>
        </div>
    </div>

    <script>
        /**
         * GENNOZ DIAMOND EDITION CODE
         * Arquitetura: Orientada a Componentes Visuais
         */

        // 1. DATABASE
        const DB = {
            hero: [
                { src: "Eu_e_Nuz-2025-Prazeres.jpg", desc: "A conexão silenciosa em Prazeres. Um momento de calma e cumplicidade capturado no início de 2025." },
                { src: "Familia-2025-Prazeres.jpg", desc: "A base de tudo. Retrato familiar que eterniza os laços e a força coletiva em nosso solo." },
                { src: "Eu_Ela_e_os_Bebes-2025-Prazeres.jpg", desc: "O ciclo da vida se renova. Luz natural e sorrisos genuínos marcam esta nova etapa." }
            ],
            acervo: [
                { src: "Praia_de_Serrambi-2024-Ipojuca.jpg", desc: "Texturas naturais e o horizonte infinito de Serrambi." },
                { src: "Orgulho_em_Calhetas-2024-Cabo.jpg", desc: "Cores vibrantes e a energia única de Calhetas." },
                { src: "Praia_de_Piedade-2024-Jaboatao.jpg", desc: "Cotidiano urbano encontrando o mar." },
                { src: "Dia_Azul_em_Prazeres-2024-Jaboatao.jpg", desc: "Um dia atípico sob o céu azul de Jaboatão." },
                { src: "Engrenagens_do_Interior-2023-Carpina.jpg", desc: "Detalhes mecânicos e a vida no interior." }
            ]
        };

        // 2. PARSER (Utility)
        const Parser = (filename) => {
            const clean = filename.split('.').slice(0, -1).join('');
            const parts = clean.split('-');
            const title = parts[0]?.replace(/_/g, ' ') || "Sem Título";
            let meta = "ACERVO";
            if (parts.length >= 3) meta = `${parts[1]} • ${parts[2].toUpperCase().replace(/_/g, ' ')}`;
            return { title, meta };
        };

        // 3. CAROUSEL ENGINE (3D Logic)
        class Carousel {
            constructor(trackId, data, dotsId) {
                this.track = document.getElementById(trackId);
                this.dotsContainer = document.getElementById(dotsId);
                this.data = data;
                this.index = 0;
                this.expanded = false; // Estado de expansão
                this.init();
            }

            init() {
                this.render();
                this.setupGestures();
            }

            render() {
                this.track.innerHTML = '';
                
                // Dots
                if(this.dotsContainer) {
                    this.dotsContainer.innerHTML = this.data.map((_, i) => 
                        `<div class="dot ${i === this.index ? 'active' : ''}"></div>`
                    ).join('');
                    
                    // Add click to dots
                    Array.from(this.dotsContainer.children).forEach((dot, i) => {
                        dot.onclick = (e) => { e.stopPropagation(); this.goto(i); };
                    });
                }

                // Slots Logic
                const indices = [
                    (this.index - 1 + this.data.length) % this.data.length, // Left
                    this.index, // Center
                    (this.index + 1) % this.data.length // Right
                ];

                indices.forEach((dataIdx, posIdx) => {
                    const item = this.data[dataIdx];
                    const info = Parser(item.src);
                    
                    const el = document.createElement('div');
                    
                    // Determine Class
                    let cls = 'slot';
                    if (posIdx === 0) cls += ' left';
                    else if (posIdx === 1) {
                        cls += ' center';
                        if(this.expanded) cls += ' expanded';
                    }
                    else if (posIdx === 2) cls += ' right';
                    
                    el.className = cls;

                    // HTML Structure (Image > Content)
                    el.innerHTML = `
                        <img src="${item.src}" alt="${info.title}">
                        <div class="slot-content">
                            <h3 class="slot-title">${info.title}</h3>
                            <p class="slot-meta">${info.meta}</p>
                            <p class="slot-desc">${item.desc || ''}</p>
                            ${posIdx === 1 && !this.expanded ? '<div style="margin-top:1rem; opacity:0.7; font-size:0.6rem; letter-spacing:0.2em;">CLIQUE PARA EXPANDIR</div>' : ''}
                        </div>
                    `;

                    // Click Interaction
                    el.onclick = () => {
                        if (posIdx === 0) this.navigate(-1); // Click left
                        else if (posIdx === 2) this.navigate(1); // Click right
                        else if (posIdx === 1) { // Click Center
                            if (!this.expanded) {
                                // Primeiro clique: Expande internamente
                                this.expanded = true;
                                this.render();
                            } else {
                                // Segundo clique: Abre Lightbox Global
                                Modal.openImage(item.src, info.title, info.meta, item.desc);
                            }
                        }
                    };
                    
                    // Hover Cursor
                    el.onmouseenter = () => document.body.classList.add('hovering');
                    el.onmouseleave = () => document.body.classList.remove('hovering');

                    this.track.appendChild(el);
                });
            }

            navigate(dir) {
                this.expanded = false; // Reset expansion on move
                this.index = (this.index + dir + this.data.length) % this.data.length;
                this.render();
            }

            goto(idx) {
                this.expanded = false;
                this.index = idx;
                this.render();
            }

            setupGestures() {
                let startX = 0;
                this.track.addEventListener('touchstart', e => startX = e.changedTouches[0].screenX);
                this.track.addEventListener('touchend', e => {
                    const diff = e.changedTouches[0].screenX - startX;
                    if (Math.abs(diff) > 40) this.navigate(diff > 0 ? -1 : 1);
                });
            }
        }

        // 4. MODAL & VIDEO ENGINE
        const Modal = {
            el: document.getElementById('modal'),
            
            init() {
                document.getElementById('close-modal').onclick = () => this.close();
                // ESC key
                document.addEventListener('keydown', (e) => { if(e.key === 'Escape') this.close(); });
                // Outside click
                this.el.onclick = (e) => { if(e.target === this.el) this.close(); };
            },

            openImage(src, title, meta, desc) {
                this.el.classList.remove('video-mode');
                document.getElementById('m-img').src = src;
                document.getElementById('m-title').innerText = title;
                document.getElementById('m-meta').innerText = meta;
                document.getElementById('m-desc').innerText = desc || '';
                this.show();
            },

            openVideo(src) {
                this.el.classList.add('video-mode');
                VideoEngine.load(src);
                this.show();
            },

            show() {
                this.el.classList.add('active');
                document.body.style.overflow = 'hidden';
            },

            close() {
                this.el.classList.remove('active');
                document.body.style.overflow = '';
                VideoEngine.stop(); // Stop video if playing
                
                // Reset expanded states in carousels
                heroCarousel.expanded = false;
                heroCarousel.render();
                acervoCarousel.expanded = false;
                acervoCarousel.render();
            }
        };

        const VideoEngine = {
            vid: document.getElementById('cinema-video'),
            btn: document.getElementById('play-btn'),

            load(src) {
                this.vid.src = src;
                this.vid.load();
                this.vid.play();
                this.btn.innerText = '❚❚';
            },
            toggle() {
                if(this.vid.paused) { this.vid.play(); this.btn.innerText = '❚❚'; }
                else { this.vid.pause(); this.btn.innerText = '▶'; }
            },
            skip(val) {
                this.vid.currentTime += val;
            },
            stop() {
                this.vid.pause();
                this.vid.src = "";
            }
        };

        // 5. VISUAL FX (CURSOR & LOGO)
        function initFX() {
            // Cursor
            const dot = document.querySelector('.cursor-dot');
            const ring = document.querySelector('.cursor-ring');
            let mouseX = 0, mouseY = 0;
            let ringX = 0, ringY = 0;

            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
                dot.style.transform = `translate(${mouseX}px, ${mouseY}px) translate(-50%, -50%)`;
            });

            function loop() {
                ringX += (mouseX - ringX) * 0.15;
                ringY += (mouseY - ringY) * 0.15;
                ring.style.transform = `translate(${ringX}px, ${ringY}px) translate(-50%, -50%)`;
                requestAnimationFrame(loop);
            }
            if (window.matchMedia("(pointer: fine)").matches) loop();

            // Logo Interaction
            const logo = document.getElementById('logo-trigger');
            logo.onclick = () => {
                logo.classList.add('active');
                setTimeout(() => logo.classList.remove('active'), 1000);
            };
        }

        // 6. INITIALIZATION
        let heroCarousel, acervoCarousel;

        window.onload = () => {
            Modal.init();
            initFX();

            heroCarousel = new Carousel('hero-track', DB.hero, 'hero-dots');
            acervoCarousel = new Carousel('acervo-track', DB.acervo, 'acervo-dots');
        };

    </script>
</body>
</html>
