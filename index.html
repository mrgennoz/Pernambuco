<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gennoz | Acervo</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400&family=Manrope:wght@300;400;500;600&display=swap" rel="stylesheet">

    <style>
        /* === 1. CORE VARIABLES & RESET === */
        :root {
            --bg-master: #050505;
            --text-main: #F4F4F4;
            --text-muted: #888888;
            --gold: #D4AF37;
            --gold-dim: rgba(212, 175, 55, 0.2);
            --ease-cinema: cubic-bezier(0.19, 1, 0.22, 1); /* Movimento suave profissional */
            --spacing: clamp(1rem, 5vw, 3rem);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        
        body {
            background-color: var(--bg-master);
            color: var(--text-main);
            font-family: 'Manrope', sans-serif;
            overflow-x: hidden;
            opacity: 0; transition: opacity 1s ease;
        }
        body.loaded { opacity: 1; }

        /* Efeito de Flash na Tela (Interação da Logo) */
        #global-flash {
            position: fixed; inset: 0; background: #fff; opacity: 0; pointer-events: none; z-index: 9999;
            mix-blend-mode: overlay; transition: opacity 0.8s ease-out;
        }

        /* === 2. HEADER & LOGO MÁGICA === */
        header {
            height: 14vh; display: flex; justify-content: center; align-items: center;
            position: relative; z-index: 100; padding-top: 1rem;
        }
        
        .logo-wrap {
            position: relative; width: 60px; height: 60px; cursor: pointer;
            display: grid; place-items: center; transition: transform 0.4s var(--ease-cinema);
        }
        
        /* Imagem da Logo */
        .logo-img { width: 100%; height: auto; position: relative; z-index: 2; transition: 0.4s; }
        
        /* Aura (Brilho ao passar o mouse) */
        .logo-aura {
            position: absolute; width: 10px; height: 10px; background: var(--gold);
            border-radius: 50%; opacity: 0; filter: blur(15px);
            transition: 0.5s ease; z-index: 1;
        }

        /* Interações Logo */
        .logo-wrap:hover { transform: scale(1.1); }
        .logo-wrap:hover .logo-aura { width: 60px; height: 60px; opacity: 0.4; }
        .logo-wrap:active { transform: scale(0.95); }

        /* === 3. HERO SECTION (16:9 & Hierarquia) === */
        .section-hero {
            display: flex; flex-direction: column; align-items: center;
            padding-bottom: 3rem; width: 100%; overflow: hidden;
        }

        /* Container do Slider */
        .hero-stage {
            width: 100%; max-width: 1200px; height: auto;
            display: flex; justify-content: center; align-items: center;
            position: relative; margin-bottom: 1.5rem;
        }

        /* Item do Hero */
        .hero-card {
            width: 65vw; max-width: 900px; aspect-ratio: 16/9;
            position: absolute; border-radius: 2px;
            overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            transition: all 0.8s var(--ease-cinema);
            opacity: 0; transform: scale(0.9); pointer-events: none; z-index: 1;
            background: #111;
        }

        .hero-card img {
            width: 100%; height: 100%; object-fit: cover;
            transition: transform 1.2s var(--ease-cinema), filter 0.5s;
        }

        /* Estados do Hero */
        .hero-card.active {
            opacity: 1; transform: translateX(0) scale(1); z-index: 10; pointer-events: auto; cursor: pointer;
        }
        .hero-card.prev {
            opacity: 0.4; transform: translateX(-105%) scale(0.85); z-index: 5; pointer-events: auto; cursor: pointer;
        }
        .hero-card.next {
            opacity: 0.4; transform: translateX(105%) scale(0.85); z-index: 5; pointer-events: auto; cursor: pointer;
        }

        /* Estado Expandido (1º Clique) */
        .hero-card.expanded {
            width: 75vw; box-shadow: 0 30px 80px rgba(212, 175, 55, 0.15); border: 1px solid rgba(255,255,255,0.1);
        }
        .hero-card.expanded img { transform: scale(1.05); filter: brightness(0.6); }

        /* Texto Overlay (Só aparece no expandido) */
        .hero-overlay-info {
            position: absolute; inset: 0; display: flex; flex-direction: column;
            justify-content: center; align-items: center; text-align: center;
            opacity: 0; transition: 0.5s; padding: 2rem;
        }
        .hero-card.expanded .hero-overlay-info { opacity: 1; }
        
        .h-desc { font-size: 1rem; color: #ddd; max-width: 600px; line-height: 1.6; margin-top: 1rem; transform: translateY(20px); transition: 0.5s; }
        .hero-card.expanded .h-desc { transform: translateY(0); }

        /* Área de Texto Externa (Padrão) */
        .hero-meta-external { text-align: center; transition: opacity 0.3s; min-height: 100px; }
        .hero-title { font-family: 'Playfair Display', serif; font-size: 2rem; margin-bottom: 0.2rem; color: #fff; }
        .hero-sub { font-size: 0.75rem; letter-spacing: 0.15em; color: var(--gold); text-transform: uppercase; margin-bottom: 1rem; display: block; }
        
        /* Dots de Navegação */
        .nav-dots { display: flex; justify-content: center; gap: 10px; margin-top: 10px; }
        .dot { width: 40px; height: 2px; background: #333; transition: 0.3s; cursor: pointer; }
        .dot.active { background: var(--text-main); }
        .dot:hover { background: var(--gold); }


        /* === 4. ACERVO (Horizontal Scroll Clássico) === */
        .section-acervo { padding: 4rem 0; }
        .sec-header { text-align: center; margin-bottom: 2rem; }
        
        .acervo-strip {
            display: flex; gap: 20px; overflow-x: auto; padding: 10px 5vw;
            scroll-snap-type: x mandatory; scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }
        .acervo-strip::-webkit-scrollbar { display: none; } /* Esconder scrollbar */
        
        .acervo-item {
            flex: 0 0 280px; height: 380px; position: relative;
            scroll-snap-align: center; cursor: pointer;
            transition: transform 0.3s;
        }
        .acervo-item img { width: 100%; height: 100%; object-fit: cover; border-radius: 2px; filter: grayscale(0.2); transition: 0.5s; }
        
        /* Efeito de Clique no Acervo (1º Clique) */
        .acervo-item.selected img { filter: brightness(0.4); transform: scale(0.98); }
        .acervo-info {
            position: absolute; bottom: 20px; left: 20px; right: 20px;
            opacity: 0; transform: translateY(10px); transition: 0.3s; pointer-events: none;
        }
        .acervo-item.selected .acervo-info { opacity: 1; transform: translateY(0); }
        .ai-title { font-family: 'Playfair Display', serif; font-size: 1.2rem; margin-bottom: 5px; }
        .ai-meta { font-size: 0.65rem; color: var(--gold); letter-spacing: 0.1em; text-transform: uppercase; }


        /* === 5. MEMÓRIAS (Vídeo Estático > Cinema) === */
        .section-memo { padding: 4rem 0; display: flex; flex-direction: column; align-items: center; }
        
        .video-cover {
            width: 90vw; max-width: 900px; aspect-ratio: 16/9;
            position: relative; overflow: hidden; cursor: pointer;
            border-radius: 2px; group: isolate;
        }
        .video-cover video { width: 100%; height: 100%; object-fit: cover; opacity: 0.8; transition: 0.5s; }
        .video-cover:hover video { opacity: 1; transform: scale(1.02); }
        
        .play-trigger {
            position: absolute; inset: 0; display: flex; justify-content: center; align-items: center;
            background: rgba(0,0,0,0.2); transition: 0.3s;
        }
        .pt-icon {
            font-size: 2rem; color: #fff; border: 1px solid rgba(255,255,255,0.4);
            width: 70px; height: 70px; border-radius: 50%; display: grid; place-items: center;
            backdrop-filter: blur(4px); transition: 0.3s;
        }
        .video-cover:hover .pt-icon { border-color: var(--gold); color: var(--gold); transform: scale(1.1); }


        /* === 6. LIGHTBOX & PLAYER (Minimalista) === */
        #lightbox {
            position: fixed; inset: 0; background: #080808; z-index: 5000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; visibility: hidden; transition: 0.4s var(--ease-cinema);
        }
        #lightbox.active { opacity: 1; visibility: visible; }
        
        .lb-close {
            position: absolute; top: 30px; right: 30px; font-size: 2rem; color: #fff;
            cursor: pointer; opacity: 0.7; transition: 0.3s; z-index: 5001; font-family: sans-serif;
        }
        .lb-close:hover { opacity: 1; color: var(--gold); }

        /* Conteúdo Imagem */
        .lb-img { max-width: 95vw; max-height: 80vh; object-fit: contain; box-shadow: 0 0 60px rgba(0,0,0,0.8); display: none; }
        .lb-content-text { text-align: center; margin-top: 1.5rem; max-width: 600px; padding: 0 1rem; display: none; }
        
        /* Conteúdo Vídeo */
        .lb-video-container { width: 90vw; max-width: 1000px; display: none; flex-direction: column; align-items: center; }
        .lb-video { width: 100%; aspect-ratio: 16/9; background: #000; box-shadow: 0 0 50px rgba(0,0,0,0.5); }
        
        .player-bar {
            margin-top: 1.5rem; display: flex; align-items: center; gap: 2rem;
            background: rgba(255,255,255,0.05); padding: 12px 30px; border-radius: 50px;
        }
        .p-btn { background: none; border: none; color: #ccc; font-size: 0.9rem; cursor: pointer; font-family: inherit; transition: 0.2s; }
        .p-btn:hover { color: #fff; }
        .p-main { font-size: 1.5rem; color: var(--gold); width: 30px; text-align: center; }

        /* Estados do Lightbox */
        #lightbox.mode-img .lb-img, #lightbox.mode-img .lb-content-text { display: block; }
        #lightbox.mode-vid .lb-video-container { display: flex; }

        /* === 7. MOBILE === */
        @media (max-width: 768px) {
            .hero-card { width: 88vw; height: auto; }
            .hero-card.expanded { width: 92vw; }
            .hero-title { font-size: 1.6rem; }
            .acervo-item { flex: 0 0 75vw; height: 400px; }
            .video-cover { width: 92vw; }
            .hero-overlay-info { padding: 1rem; }
            .h-desc { display: none; /* Descrição longa oculta no mobile para limpar visual */ }
        }
        
        footer { padding: 3rem 0; border-top: 1px solid #111; text-align: center; margin-top: 3rem; font-size: 0.7rem; color: #444; letter-spacing: 0.2em; }
    </style>
</head>
<body>

    <div id="global-flash"></div>

    <header>
        <div class="logo-wrap" onclick="App.triggerMagic()">
            <div class="logo-aura"></div>
            <img src="logo.png" alt="GENNOZ" class="logo-img" onerror="this.style.display='none'; this.parentNode.innerHTML='<h2 style=\'color:#fff\'>G</h2>'">
        </div>
    </header>

    <main>
        <section class="section-hero">
            <div class="hero-stage" id="hero-track">
                </div>
            
            <div class="hero-meta-external" id="hero-info-box">
                <h2 class="hero-title" id="h-title">...</h2>
                <span class="hero-sub" id="h-sub">...</span>
                <div class="nav-dots" id="h-dots"></div>
            </div>
        </section>

        <section class="section-acervo">
            <div class="sec-header">
                <h2 class="hero-title" style="font-size: 1.8rem;">Acervo</h2>
                <span class="hero-sub" style="color: #666;">Seleção Permanente</span>
            </div>
            <div class="acervo-strip" id="acervo-track">
                </div>
        </section>

        <section class="section-memo">
            <div class="sec-header">
                <h2 class="hero-title" style="font-size: 1.8rem;">Memórias</h2>
                <span class="hero-sub" style="color: #666;">Registro Visual</span>
            </div>
            
            <div class="video-cover" onclick="App.openVideo('Patins_e_Itapuama-2022-Cabo.mp4')">
                <video src="Patins_e_Itapuama-2022-Cabo.mp4" muted loop poster=""></video>
                <div class="play-trigger">
                    <div class="pt-icon">▶</div>
                </div>
            </div>
        </section>
    </main>

    <footer>GENNOZ © 2025</footer>

    <div id="lightbox">
        <div class="lb-close" onclick="App.closeModal()">×</div>
        
        <img src="" class="lb-img" id="lb-img">
        <div class="lb-content-text">
            <h3 class="hero-title" id="lb-title" style="font-size: 1.5rem;"></h3>
            <p class="hero-sub" id="lb-sub"></p>
            <p style="color:#aaa; font-size:0.9rem; line-height:1.6;" id="lb-desc"></p>
        </div>

        <div class="lb-video-container">
            <video src="" class="lb-video" id="lb-video" playsinline></video>
            <div class="player-bar">
                <button class="p-btn" onclick="App.skip(-10)">-10s</button>
                <button class="p-btn p-main" onclick="App.togglePlay()" id="play-btn">▶</button>
                <button class="p-btn" onclick="App.skip(10)">+10s</button>
            </div>
        </div>
    </div>

    <script>
        /**
         * GENNOZ CORE v4.0 (Final Cut)
         * Foco: Usabilidade, Performance e Fidelidade às Solicitações
         */

        // 1. DADOS
        const DB = {
            hero: [
                { src: "Eu_e_Nuz-2025-Prazeres.jpg", desc: "A captura de um momento de silêncio e conexão em Prazeres." },
                { src: "Familia-2025-Prazeres.jpg", desc: "A base sólida que sustenta todas as outras histórias." },
                { src: "Eu_Ela_e_os_Bebes-2025-Prazeres.jpg", desc: "Novos começos e a luz natural de 2025." }
            ],
            acervo: [
                { src: "Praia_de_Serrambi-2024-Ipojuca.jpg" },
                { src: "Orgulho_em_Calhetas-2024-Cabo.jpg" },
                { src: "Praia_de_Piedade-2024-Jaboatao.jpg" },
                { src: "Dia_Azul_em_Prazeres-2024-Jaboatao.jpg" },
                { src: "Engrenagens_do_Interior-2023-Carpina.jpg" },
                { src: "Crias_de_Prazeres-2024-Jaboatao.jpg" }
            ]
        };

        // 2. UTILITÁRIOS
        const Utils = {
            parse: (filename) => {
                const clean = filename.split('.').slice(0, -1).join('');
                const parts = clean.split('-');
                const title = parts[0]?.replace(/_/g, ' ') || "Sem Título";
                let meta = "ACERVO GENNOZ";
                if (parts.length >= 3) meta = `${parts[1]} • ${parts[2].toUpperCase().replace(/_/g, ' ')}`;
                return { title, meta };
            }
        };

        // 3. APLICAÇÃO PRINCIPAL
        const App = {
            heroIndex: 0,
            heroExpanded: false,
            
            init() {
                this.renderHero();
                this.renderAcervo();
                document.body.classList.add('loaded');
                
                // Key Listeners
                document.addEventListener('keydown', (e) => {
                    if(e.key === 'Escape') this.closeModal();
                    if(e.key === 'ArrowRight') this.moveHero(1);
                    if(e.key === 'ArrowLeft') this.moveHero(-1);
                });
            },

            // --- LÓGICA MÁGICA DA LOGO ---
            triggerMagic() {
                const flash = document.getElementById('global-flash');
                flash.style.opacity = '1';
                setTimeout(() => { flash.style.opacity = '0'; }, 100);
                
                // Opcional: Efeito vibratório sutil no container principal
                document.querySelector('main').style.transform = 'scale(1.01)';
                setTimeout(() => { document.querySelector('main').style.transform = 'scale(1)'; }, 200);
            },

            // --- HERO LOGIC ---
            renderHero() {
                const track = document.getElementById('hero-track');
                const dots = document.getElementById('h-dots');
                const titleEl = document.getElementById('h-title');
                const subEl = document.getElementById('h-sub');

                // Limpar
                track.innerHTML = '';
                
                // Calcular índices (Circular)
                const total = DB.hero.length;
                const prevIdx = (this.heroIndex - 1 + total) % total;
                const nextIdx = (this.heroIndex + 1) % total;

                DB.hero.forEach((item, i) => {
                    const info = Utils.parse(item.src);
                    const el = document.createElement('div');
                    
                    // Definir Classes
                    let cls = 'hero-card';
                    if (i === this.heroIndex) {
                        cls += ' active';
                        if (this.heroExpanded) cls += ' expanded';
                    } else if (i === prevIdx) cls += ' prev';
                    else if (i === nextIdx) cls += ' next';
                    else cls += ' hidden'; // Otimização: esconder o resto
                    
                    if (!cls.includes('hidden')) {
                        el.className = cls;
                        el.innerHTML = `
                            <img src="${item.src}">
                            <div class="hero-overlay-info">
                                <p class="h-desc">${item.desc}</p>
                                <div style="margin-top:1rem; font-size:0.6rem; letter-spacing:0.2em; opacity:0.8;">CLIQUE PARA AMPLIAR</div>
                            </div>
                        `;
                        
                        // Lógica de Clique do Hero
                        el.onclick = () => {
                            if (i === prevIdx) this.moveHero(-1);
                            else if (i === nextIdx) this.moveHero(1);
                            else if (i === this.heroIndex) {
                                if (!this.heroExpanded) {
                                    // 1º Clique: Expandir e mostrar info interna
                                    this.heroExpanded = true;
                                    this.renderHero();
                                } else {
                                    // 2º Clique: Abrir Lightbox
                                    this.openImage(item.src, info.title, info.meta, item.desc);
                                }
                            }
                        };
                        track.appendChild(el);
                    }
                });

                // Atualizar Texto Externo
                const currInfo = Utils.parse(DB.hero[this.heroIndex].src);
                titleEl.innerText = currInfo.title;
                subEl.innerText = currInfo.meta;

                // Atualizar Dots
                dots.innerHTML = DB.hero.map((_, i) => 
                    `<div class="dot ${i === this.heroIndex ? 'active' : ''}" onclick="App.goToHero(${i})"></div>`
                ).join('');
            },

            moveHero(dir) {
                this.heroExpanded = false; // Resetar expansão ao mover
                this.heroIndex = (this.heroIndex + dir + DB.hero.length) % DB.hero.length;
                this.renderHero();
            },
            
            goToHero(i) {
                this.heroExpanded = false;
                this.heroIndex = i;
                this.renderHero();
            },

            // --- ACERVO LOGIC (Simples e Funcional) ---
            renderAcervo() {
                const track = document.getElementById('acervo-track');
                track.innerHTML = DB.acervo.map((item, i) => {
                    const info = Utils.parse(item.src);
                    return `<div class="acervo-item" id="ac-${i}" onclick="App.handleAcervoClick(this, '${item.src}', '${info.title}', '${info.meta}')">
                        <img src="${item.src}" loading="lazy">
                        <div class="acervo-info">
                            <h3 class="ai-title">${info.title}</h3>
                            <p class="ai-meta">${info.meta}</p>
                        </div>
                    </div>`;
                }).join('');
            },

            handleAcervoClick(el, src, title, meta) {
                // Se já estiver selecionado, abre o lightbox
                if (el.classList.contains('selected')) {
                    this.openImage(src, title, meta, '');
                } else {
                    // Se não, seleciona e remove seleção dos outros
                    document.querySelectorAll('.acervo-item').forEach(x => x.classList.remove('selected'));
                    el.classList.add('selected');
                }
            },

            // --- LIGHTBOX & VIDEO LOGIC ---
            openImage(src, title, meta, desc) {
                const lb = document.getElementById('lightbox');
                lb.classList.remove('mode-vid');
                lb.classList.add('mode-img');
                
                document.getElementById('lb-img').src = src;
                document.getElementById('lb-title').innerText = title;
                document.getElementById('lb-sub').innerText = meta;
                document.getElementById('lb-desc').innerText = desc || '';
                
                lb.classList.add('active');
            },

            openVideo(src) {
                const lb = document.getElementById('lightbox');
                const vid = document.getElementById('lb-video');
                
                lb.classList.remove('mode-img');
                lb.classList.add('mode-vid');
                
                vid.src = src;
                vid.load();
                vid.play();
                document.getElementById('play-btn').innerText = '❚❚';
                
                lb.classList.add('active');
            },

            togglePlay() {
                const vid = document.getElementById('lb-video');
                const btn = document.getElementById('play-btn');
                if(vid.paused) { vid.play(); btn.innerText = '❚❚'; }
                else { vid.pause(); btn.innerText = '▶'; }
            },

            skip(s) {
                document.getElementById('lb-video').currentTime += s;
            },

            closeModal() {
                const lb = document.getElementById('lightbox');
                lb.classList.remove('active');
                
                // Parar vídeo
                const vid = document.getElementById('lb-video');
                vid.pause();
                vid.src = "";
                
                // Resetar estados visuais
                this.heroExpanded = false;
                this.renderHero();
                document.querySelectorAll('.acervo-item').forEach(x => x.classList.remove('selected'));
            }
        };

        window.onload = () => App.init();

    </script>
</body>
</html>
