<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gennoz | Acervo</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-color: #050505;
            --text-main: #Eaeaea;
            --text-muted: #888;
            --gold-accent: #D4AF37; /* Toque de Realeza sutil */
            
            /* Dimensões Desktop */
            --card-height-fixed: 300px;
            --video-land-width: 500px;
            --video-port-width: 200px;
            
            --transition-luxury: cubic-bezier(0.25, 1, 0.5, 1); /* Curva "S" suave */
            --border-radius: 4px; /* Minimalismo */
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            padding-bottom: 5rem;
        }

        /* TIPOGRAFIA */
        h1, h2, h3, .serif { font-family: 'Playfair Display', serif; font-weight: 400; letter-spacing: 0.02em; }
        .hero-title { font-size: 4rem; text-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .section-title { font-size: 2.5rem; color: var(--text-main); }
        .meta-data { font-size: 0.75rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.25em; margin-top: 0.5rem; }
        
        /* === 1. LOGO MISTERIOSA & ONDA DE LUZ === */
        .logo-section {
            min-height: 25vh; /* Mais respiro */
            display: flex; justify-content: center; align-items: center;
            position: relative;
            z-index: 20;
        }
        
        .brand-logo { 
            width: 120px; 
            filter: brightness(0.8) grayscale(1); 
            transition: all 1s var(--transition-luxury);
            cursor: pointer;
            position: relative;
            z-index: 22;
        }
        
        /* Efeito Hover/Ativo respeitando PNG (Sem borda quadrada) */
        .brand-logo:hover, .brand-logo.pulse-active { 
            filter: brightness(1.2) grayscale(0) drop-shadow(0 0 20px rgba(255, 255, 255, 0.3)); 
            transform: scale(1.05);
        }

        /* Partículas */
        .particle-container { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 200px; height: 200px; pointer-events: none; }
        .particle {
            position: absolute; width: 4px; height: 4px; background: white; border-radius: 50%;
            opacity: 0;
        }

        /* CONECTORES VISUAIS (LUZ E SOMBRA) */
        .section-separator {
            width: 1px; height: 100px;
            background: linear-gradient(to bottom, transparent, rgba(255,255,255,0.1), transparent);
            margin: 0 auto;
            opacity: 0.3;
            transition: height 1s var(--transition-luxury), opacity 0.5s;
        }
        
        /* Quando a logo pulsa, os separadores brilham */
        body.light-wave .section-separator {
            background: linear-gradient(to bottom, transparent, rgba(255,255,255,0.5), transparent);
            height: 150px;
            box-shadow: 0 0 15px rgba(255,255,255,0.2);
        }


        /* === 2. HERO CAROUSEL (REALEZA) === */
        .hero-section {
            min-height: 90vh; /* Ocupa tela quase toda */
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            position: relative;
            perspective: 1000px;
            margin-bottom: 5rem;
        }

        .hero-carousel-wrapper {
            position: relative;
            width: 100%; max-width: 1000px; height: 60vh;
            display: flex; justify-content: center; align-items: center;
        }

        .hero-slide {
            position: absolute;
            width: 60%; height: 100%;
            transition: all 0.8s var(--transition-luxury);
            opacity: 0; transform: scale(0.8) translateX(0);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0,0,0,0.6);
            cursor: pointer;
        }

        .hero-slide.active { 
            opacity: 1; transform: scale(1) translateX(0); z-index: 5; 
            border: 1px solid rgba(255,255,255,0.1);
        }
        .hero-slide.prev { opacity: 0.3; transform: scale(0.85) translateX(-60%); z-index: 1; filter: grayscale(1); cursor: pointer; }
        .hero-slide.next { opacity: 0.3; transform: scale(0.85) translateX(60%); z-index: 1; filter: grayscale(1); cursor: pointer; }

        .hero-slide img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
        .hero-slide:hover img { transform: scale(1.05); }

        .hero-info-display {
            text-align: center; margin-top: 2rem;
            opacity: 0; transform: translateY(20px);
            transition: all 0.5s ease-out;
        }
        .hero-info-display.visible { opacity: 1; transform: translateY(0); }

        /* EXPANSÃO HERO (MODO CINEMA) */
        .hero-overlay {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: rgba(0,0,0,0.95);
            backdrop-filter: blur(15px);
            z-index: 100;
            opacity: 0; visibility: hidden;
            transition: all 0.6s var(--transition-luxury);
            display: flex; align-items: center; justify-content: center;
        }
        .hero-overlay.active { opacity: 1; visibility: visible; }

        /* Borda Pulsante (Indica borda livre) */
        .hero-overlay.active::before {
            content: ''; position: absolute; inset: 20px;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            animation: border-pulse 4s infinite;
            pointer-events: none;
        }
        @keyframes border-pulse { 0%, 100% { opacity: 0.1; } 50% { opacity: 0.4; border-color: rgba(255,255,255,0.3); } }

        .expanded-container {
            display: flex; gap: 4rem; width: 85%; max-width: 1400px; height: 80vh;
            align-items: center;
        }
        .expanded-img-box { flex: 2; height: 100%; overflow: hidden; border-radius: 4px; position: relative; }
        .expanded-img-box img { width: 100%; height: 100%; object-fit: contain; }
        
        .expanded-text-box { 
            flex: 1; opacity: 0; transform: translateX(30px); 
            display: flex; flex-direction: column; justify-content: center; 
        }
        .hero-overlay.active .expanded-text-box { 
            opacity: 1; transform: translateX(0); transition: 0.8s 0.3s var(--transition-luxury); 
        }


        /* === 3. CARROSSÉIS PADRÃO (ACERVO & MEMÓRIAS) === */
        .carousel-container {
            padding: 4rem 0;
            width: 100%;
            overflow: hidden;
            position: relative;
        }
        
        .track {
            display: flex; align-items: center; gap: 2rem;
            width: max-content; margin: 0 auto;
            transition: transform 0.5s var(--transition-luxury);
            padding: 2rem 50vw; /* Padding lateral gigante para centralização */
        }

        .card {
            position: relative;
            height: var(--card-height-fixed);
            flex-shrink: 0; /* IMPEDE ENCOLHIMENTO */
            transition: all 0.6s var(--transition-luxury);
            opacity: 0.3; filter: grayscale(100%);
            border-radius: var(--border-radius);
            overflow: hidden;
            background: #111;
            cursor: pointer;
        }

        /* TAMANHOS DINÂMICOS */
        /* Imagens (Padrão) */
        .card.type-img { width: 400px; }
        
        /* Vídeos (Smart Ratio) */
        .card.landscape { width: var(--video-land-width); }
        .card.portrait { width: var(--video-port-width); }

        .card img, .card video { width: 100%; height: 100%; object-fit: cover; }
        
        /* Estado ATIVO (Centro) */
        .card.active { opacity: 1; filter: grayscale(0%); transform: scale(1.1); z-index: 10; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        
        /* Hover nas laterais (Colorir) */
        .card:not(.active):hover { opacity: 0.8; filter: grayscale(0%); }

        /* INFO OVERLAY (Dentro do Card) */
        .card-info-overlay {
            position: absolute; bottom: 0; left: 0; width: 100%;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            padding: 2rem 1rem 1rem;
            opacity: 0; transform: translateY(20px);
            transition: all 0.4s ease;
            text-align: center;
        }
        .card.show-info .card-info-overlay { opacity: 1; transform: translateY(0); }
        .cta-btn { font-size: 0.7rem; color: #fff; border: 1px solid rgba(255,255,255,0.3); padding: 5px 15px; margin-top: 10px; display: inline-block; text-decoration: none; }


        /* === VIDEO EXPANDIDO === */
        .video-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: black; z-index: 200;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; visibility: hidden; transition: 0.4s;
        }
        .video-modal.active { opacity: 1; visibility: visible; }
        .video-modal video { max-width: 95%; max-height: 80vh; outline: none; }
        .video-modal-info { margin-top: 1rem; text-align: center; }


        /* === MOBILE RESPONSIVENESS === */
        @media (max-width: 768px) {
            :root {
                --card-height-fixed: 220px;
                --video-land-width: 320px;
                --video-port-width: 160px;
            }
            .hero-title { font-size: 2.5rem; }
            .hero-carousel-wrapper { height: 45vh; width: 100%; }
            .hero-slide { width: 75%; }
            .hero-slide.prev { transform: scale(0.8) translateX(-45%); }
            .hero-slide.next { transform: scale(0.8) translateX(45%); }
            
            /* Expansão Hero Mobile */
            .expanded-container { flex-direction: column; width: 90%; height: 90vh; gap: 1rem; }
            .expanded-img-box { flex: none; height: 50%; width: 100%; }
            .expanded-text-box { flex: 1; width: 100%; text-align: center; justify-content: flex-start; overflow-y: auto; }
            
            .card.type-img { width: 260px; }
            
            /* Ajuste de toque */
            .cta-btn { padding: 10px 20px; }
            
            .section-separator { height: 50px; }
            body.light-wave .section-separator { height: 80px; }
        }
    </style>
</head>
<body>

    <header class="logo-section">
        <div class="particle-container" id="particles"></div>
        <img src="logo.png" alt="Gennoz" class="brand-logo" id="logo">
    </header>

    <div class="section-separator"></div>

    <section class="hero-section">
        <div class="hero-carousel-wrapper" id="hero-track">
            </div>
        
        <div class="hero-info-display" id="hero-info">
            <h1 class="hero-title serif" id="hero-title-text">Título</h1>
            <p class="meta-data" id="hero-meta-text">Info</p>
        </div>
    </section>

    <div class="hero-overlay" id="hero-overlay">
        <div class="expanded-container">
            <div class="expanded-img-box">
                <img src="" id="exp-hero-img" alt="">
            </div>
            <div class="expanded-text-box">
                <h2 class="serif section-title" id="exp-hero-title">Título</h2>
                <p class="meta-data" id="exp-hero-meta" style="margin-bottom: 2rem;">ANO • LOCAL</p>
                <p style="line-height: 1.6; color: #ccc;">
                    Esta é a descrição detalhada da obra principal. Aqui o espaço é dedicado para contar a história, 
                    a técnica e a emoção por trás do registro. A estrutura minimalista permite que o texto respire 
                    ao lado da imagem.
                </p>
                <div style="margin-top: 2rem; opacity: 0.6; font-size: 0.8rem;">
                    [ Clique fora ou pressione ESC para retornar ]
                </div>
            </div>
        </div>
    </div>

    <div class="section-separator"></div>

    <section class="carousel-container">
        <div style="text-align: center; margin-bottom: 2rem;">
            <h2 class="serif section-title">Acervo</h2>
            <p class="meta-data">Clique no centro para detalhes</p>
        </div>
        
        <div class="track" id="track-img">
            </div>
    </section>

    <div class="section-separator"></div>

    <section class="carousel-container">
        <div style="text-align: center; margin-bottom: 2rem;">
            <h2 class="serif section-title">Memórias</h2>
            <p class="meta-data">Pernambuco</p>
        </div>
        
        <div class="track" id="track-vid">
            </div>
    </section>
    
    <div class="video-modal" id="video-modal">
        <video id="main-video-player" controls playsinline></video>
        <div class="video-modal-info">
            <h3 class="serif" id="vid-mod-title">Título</h3>
            <button class="cta-btn" onclick="closeVideo()">Fechar</button>
        </div>
    </div>

    <footer>
        <div style="text-align: center; padding: 3rem; color: #444; font-size: 0.8rem; letter-spacing: 0.1em;">
            GENNOZ © 2025
        </div>
    </footer>

    <script>
        /* === DADOS (Com Orientação de Vídeo) === */
        const heroData = [
            { src: "familia02.jpg", title: "Família", meta: "2025 • GENNOZ" },
            { src: "imagem01.jpg", title: "Raízes", meta: "2024 • PERNAMBUCO" },
            { src: "imagem07.jpg", title: "Horizonte", meta: "2024 • SERRAMBI" }
        ];

        const imgData = [
            { src: "imagem01.jpg", title: "Calhetas", meta: "2024 • CABO" },
            { src: "imagem02.jpg", title: "Piedade", meta: "2025 • JABOATÃO" },
            { src: "imagem03.jpg", title: "Prazeres", meta: "2025 • JABOATÃO" },
            { src: "imagem04.jpg", title: "Prazeres II", meta: "2025 • JABOATÃO" },
            { src: "imagem05.jpg", title: "Prazeres III", meta: "2025 • JABOATÃO" },
            { src: "imagem12.jpg", title: "Carpina", meta: "2024 • ZONA DA MATA" }
        ];

        // orientation: 'landscape' (horizontal) ou 'portrait' (vertical)
        const vidData = [
            { src: "video01.mp4", title: "Estudo de Cor", orientation: "landscape" },
            { src: "video06.mp4", title: "Foco", orientation: "portrait" }, // Exemplo Vertical
            { src: "video02.mp4", title: "Loop", orientation: "landscape" },
            { src: "video03.mp4", title: "Noturno", orientation: "landscape" },
            { src: "video04.mp4", title: "Transição", orientation: "portrait" },
            { src: "video05.mp4", title: "Pixel", orientation: "landscape" }
        ];

        /* === ESTADO GLOBAL === */
        let state = {
            hero: 0,
            img: 0,
            vid: 0
        };

        /* === 1. LÓGICA DA LOGO (EFEITO ONDA) === */
        const logo = document.getElementById('logo');
        const separators = document.querySelectorAll('.section-separator');
        
        logo.addEventListener('click', () => {
            // Efeito Visual na Logo
            logo.classList.add('pulse-active');
            
            // Onda de Luz (Body Class)
            document.body.classList.add('light-wave');
            
            // Remove classes após animação
            setTimeout(() => {
                logo.classList.remove('pulse-active');
                document.body.classList.remove('light-wave');
            }, 1500);
        });

        /* === 2. HERO LÓGICA === */
        function renderHero() {
            const track = document.getElementById('hero-track');
            track.innerHTML = '';
            
            heroData.forEach((item, index) => {
                const el = document.createElement('div');
                
                // Define classes: Active, Prev, Next
                let className = 'hero-slide';
                if (index === state.hero) className += ' active';
                else if (index === (state.hero - 1 + heroData.length) % heroData.length) className += ' prev';
                else if (index === (state.hero + 1) % heroData.length) className += ' next';
                else className += ' hidden'; // Esconde os outros
                
                if (className.includes('hidden')) {
                    el.style.opacity = '0'; 
                    el.style.pointerEvents = 'none';
                }

                el.className = className;
                el.innerHTML = `<img src="${item.src}" alt="${item.title}">`;
                
                // Click Logic
                el.onclick = () => {
                    if (el.classList.contains('prev')) {
                        state.hero = (state.hero - 1 + heroData.length) % heroData.length;
                        renderHero();
                    } else if (el.classList.contains('next')) {
                        state.hero = (state.hero + 1) % heroData.length;
                        renderHero();
                    } else if (el.classList.contains('active')) {
                        openHeroExpanded(item);
                    }
                };
                
                track.appendChild(el);
            });

            // Atualiza Texto
            const info = document.getElementById('hero-info');
            info.classList.remove('visible');
            setTimeout(() => {
                document.getElementById('hero-title-text').innerText = heroData[state.hero].title;
                document.getElementById('hero-meta-text').innerText = heroData[state.hero].meta;
                info.classList.add('visible');
            }, 300);
        }

        // Hero Expansão
        const heroOverlay = document.getElementById('hero-overlay');
        function openHeroExpanded(item) {
            document.getElementById('exp-hero-img').src = item.src;
            document.getElementById('exp-hero-title').innerText = item.title;
            document.getElementById('exp-hero-meta').innerText = item.meta;
            heroOverlay.classList.add('active');
        }
        
        heroOverlay.addEventListener('click', (e) => {
            if (e.target === heroOverlay || e.target.classList.contains('expanded-container')) {
                heroOverlay.classList.remove('active');
            }
        });

        /* === 3. CARROSSEL GENÉRICO (Imagens e Vídeos) === */
        function updateCarousel(type) {
            const data = type === 'img' ? imgData : vidData;
            const current = state[type];
            const track = document.getElementById(`track-${type}`);
            
            track.innerHTML = '';
            
            // Centralização: Calcula o deslocamento para que o item ATIVO fique no centro da tela
            // A lógica aqui é simplificada renderizando todos e usando transform no container seria ideal,
            // mas para manter a lógica de slots anterior, vamos renderizar vizinhos.
            
            // Abordagem "Fila Infinita Virtual": Renderizamos 5 itens ao redor do atual
            const indices = [-2, -1, 0, 1, 2];
            
            indices.forEach(offset => {
                const idx = (current + offset + data.length) % data.length;
                const item = data[idx];
                
                const card = document.createElement('div');
                let classList = `card type-${type === 'img' ? 'img' : ''}`; // Base class
                
                // Add Video specific classes
                if (type === 'vid') {
                    classList += ` ${item.orientation || 'landscape'}`;
                }
                
                if (offset === 0) classList += ' active';
                
                card.className = classList;
                
                // Content
                if (type === 'img') {
                    card.innerHTML = `
                        <img src="${item.src}">
                        <div class="card-info-overlay">
                            <h3 class="serif">${item.title}</h3>
                            <p class="meta-data">${item.meta}</p>
                            <a href="obra.html" class="cta-btn">Ver Obra</a>
                        </div>
                    `;
                } else {
                    card.innerHTML = `
                        <video src="${item.src}" muted loop playsinline></video>
                        <div class="card-info-overlay">
                            <h3 class="serif">${item.title}</h3>
                            <p class="meta-data">Clique para Reproduzir</p>
                        </div>
                    `;
                }

                // Click Logic
                card.onclick = () => {
                    if (offset === 0) {
                        // Click no Centro
                        if (type === 'img') {
                            if (!card.classList.contains('show-info')) {
                                card.classList.add('show-info'); // 1º Clique: Mostra Info
                            } else {
                                // 2º Clique: Poderia navegar, mas o botão "Ver Obra" já faz isso
                            }
                        } else {
                            // Vídeo: Expandir Player
                            openVideo(item);
                        }
                    } else {
                        // Navegar Lateral
                        state[type] = idx;
                        updateCarousel(type);
                    }
                };

                // Mouse over video (play preview)
                if (type === 'vid') {
                    card.onmouseenter = () => { if(offset !== 0) card.querySelector('video').play(); }
                    card.onmouseleave = () => { card.querySelector('video').pause(); }
                }

                track.appendChild(card);
            });
            
            // Reset Info States
            document.querySelectorAll('.card.show-info').forEach(c => c.classList.remove('show-info'));
        }

        /* === 4. PLAYER DE VÍDEO === */
        const vidModal = document.getElementById('video-modal');
        const mainPlayer = document.getElementById('main-video-player');
        
        function openVideo(item) {
            mainPlayer.src = item.src;
            document.getElementById('vid-mod-title').innerText = item.title;
            vidModal.classList.add('active');
            mainPlayer.play();
        }
        
        function closeVideo() {
            vidModal.classList.remove('active');
            mainPlayer.pause();
        }
        
        // Pause click on video toggle
        mainPlayer.onclick = () => {
            if (mainPlayer.paused) mainPlayer.play();
            else mainPlayer.pause();
        };

        /* === INICIALIZAÇÃO === */
        function init() {
            renderHero();
            updateCarousel('img');
            updateCarousel('vid');
        }

        document.addEventListener('DOMContentLoaded', init);
        
        // Atalho Teclado
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                heroOverlay.classList.remove('active');
                closeVideo();
            }
        });

    </script>
</body>
</html>
